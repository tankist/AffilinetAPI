<?php

/**
 * Test class for ZendX_Service_Affilinet_Accounts.
 * Generated by PHPUnit on 2011-08-23 at 17:04:11.
 */
class ZendX_Service_Affilinet_AccountsTest extends PHPUnit_Framework_TestCase
{
    /**
     * @var ZendX_Service_Affilinet_Accounts
     */
    protected $object;

    protected $username = 'Users.1.2621';

    protected $password = 'v39Gryshko';

    protected $publisher = 403233;

    /**
     * Sets up the fixture, for example, opens a network connection.
     * This method is called before a test is executed.
     */
    protected function setUp()
    {
        $this->object = new ZendX_Service_Affilinet_Accounts(array(
                'publisherId' => $this->publisher,
                'username' => $this->username,
                'password' => $this->password,
                'isSandbox' => true
            ));
    }

    /**
     * Tears down the fixture, for example, closes a network connection.
     * This method is called after a test is executed.
     */
    protected function tearDown()
    {
    }

    /**
     * @todo Implement testGetPublisherDetails().
     */
    public function testGetPublisherDetails()
    {
        $publisher = $this->object->getPublisherDetails();
    }

    public function testGetLinkedAccounts()
    {
        $accounts = $this->object->getLinkedAccounts();
        $this->assertInstanceOf('ZendX_Service_Affilinet_Collection_Accounts', $accounts);
        $this->assertGreaterThan(0, count($accounts), 'No linked accounts were found');

        $account = $accounts[0];
        $this->assertInstanceOf('ZendX_Service_Affilinet_Item_Account', $account);
        $this->assertGreaterThan(0, $account->getPublisherId());
    }
}
?>
